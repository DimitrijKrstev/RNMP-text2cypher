<article class="guide">
  <carousel class="deck container-fluid">
    <div class="slide">
      <h2>🏎️ F1 Database Verification Guide</h2>
      <p>Welcome to the F1 Database verification guide. This guide contains queries to verify your F1 database relationships and data quality.</p>
      <p>Click through the slides to run different verification checks.</p>
      <p>Each query can be clicked to run it directly in the browser.</p>
    </div>

    <div class="slide">
      <h3>📊 Node Counts Overview</h3>
      <p>Check how many nodes of each type exist in the database:</p>
      <figure>
        <pre class="pre-scrollable code runnable">MATCH (n) 
RETURN labels(n)[0] AS NodeType, count(*) AS Count 
ORDER BY NodeType;</pre>
      </figure>
      <p>This query shows you all the different types of nodes in your F1 database and their counts.</p>
    </div>

    <div class="slide">
      <h3>🔗 Relationship Counts</h3>
      <p>Check how many relationships of each type exist:</p>
      <figure>
        <pre class="pre-scrollable code runnable">MATCH ()-[r]->() 
RETURN type(r) AS RelType, count(*) AS Count 
ORDER BY RelType;</pre>
      </figure>
      <p>This shows all relationship types and their frequencies in your graph.</p>
    </div>

    <div class="slide">
      <h3>🏁 Sample Driver Results</h3>
      <p>View complete paths from drivers to their race results:</p>
      <figure>
        <pre class="pre-scrollable code runnable">MATCH path = (d:drivers)-[:ACHIEVED]->(res:results)-[:IN_RACE]->(r:races)
RETURN d.code AS driver, res.position AS position, 
       r.name AS race, r.year AS year
ORDER BY r.year DESC, res.position ASC
LIMIT 10;</pre>
      </figure>
      <p>This demonstrates the connected nature of your F1 data.</p>
    </div>

    <div class="slide">
      <h3>🏟️ Popular Circuits</h3>
      <p>Find circuits that have hosted the most races:</p>
      <figure>
        <pre class="pre-scrollable code runnable">MATCH (c:circuits)<-[:HELD_AT]-(r:races)
RETURN c.name AS circuit, c.country AS country, count(*) AS races_held
ORDER BY races_held DESC 
LIMIT 10;</pre>
      </figure>
      <p>Discover which circuits are most frequently used in Formula 1.</p>
    </div>

    <div class="slide">
      <h3>🔍 Data Quality Check</h3>
      <p>Check for races without circuit connections:</p>
      <figure>
        <pre class="pre-scrollable code runnable">MATCH (r:races)
WHERE NOT (r)-[:HELD_AT]->(:circuits)
WITH count(*) AS races_without_circuits
MATCH (c:circuits)
WITH races_without_circuits, count(*) AS total_circuits
RETURN races_without_circuits, total_circuits,
       CASE WHEN races_without_circuits > 0 
            THEN 'ISSUE: Some races not connected to circuits' 
            ELSE 'OK: All races connected' 
       END AS status;</pre>
      </figure>
      <p>This helps identify potential data integrity issues.</p>
    </div>

    <div class="slide">
      <h3>📈 Graph Visualization Sample</h3>
      <p>Visualize a small portion of your graph:</p>
      <figure>
        <pre class="pre-scrollable code runnable">MATCH path = (d:drivers)-[:ACHIEVED]->(res:results)-[:IN_RACE]->(r:races)-[:HELD_AT]->(c:circuits)
WHERE d.code IN ['HAM', 'VET', 'LEC'] AND r.year >= 2020
RETURN path
LIMIT 20;</pre>
      </figure>
      <p>This creates a visual representation of how drivers, results, races, and circuits connect.</p>
    </div>

    <div class="slide">
      <h3>📊 Database Summary</h3>
      <p>Get an overview of your F1 database:</p>
      <figure>
        <pre class="pre-scrollable code runnable">MATCH (d:drivers) WITH count(*) AS drivers
MATCH (res:results) WITH drivers, count(*) AS results  
MATCH (r:races) WITH drivers, results, count(*) AS races
MATCH (c:circuits) WITH drivers, results, races, count(*) AS circuits
RETURN drivers, races, results, circuits,
       round(results * 1.0 / drivers) AS avg_results_per_driver,
       round(results * 1.0 / races) AS avg_results_per_race;</pre>
      </figure>
      <p>This provides key statistics about your F1 database structure.</p>
    </div>
  </carousel>
</article>