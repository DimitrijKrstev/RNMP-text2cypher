[
  {
    "question": "How many studies are there for each condition?",
    "sql": "SELECT conditions.mesh_term, COUNT(conditions_studies.nct_id) FROM conditions JOIN conditions_studies ON conditions.condition_id = conditions_studies.condition_id GROUP BY conditions.mesh_term ORDER BY COUNT(conditions_studies.nct_id) DESC",
    "cypher": "MATCH (condition:conditions)<-[:FOR_CONDITION]-(cs:conditions_studies)<-[:HAS_CONDITION_RECORD]-(study:studies) RETURN condition.mesh_term, count(study) ORDER BY count(study) DESC"
  },
  {
    "question": "Which conditions are being studied in Phase 3 interventional trials?",
    "sql": "SELECT DISTINCT conditions.mesh_term FROM conditions JOIN conditions_studies ON conditions.condition_id = conditions_studies.condition_id JOIN studies ON conditions_studies.nct_id = studies.nct_id WHERE studies.phase = 'Phase 3' AND studies.study_type = 'Interventional'",
    "cypher": "MATCH (condition:conditions)<-[:FOR_CONDITION]-(cs:conditions_studies)<-[:HAS_CONDITION_RECORD]-(study:studies) WHERE study.phase = 'Phase 3' AND study.study_type = 'Interventional' RETURN DISTINCT condition.mesh_term"
  },
  {
    "question": "How many studies does each sponsor have?",
    "sql": "SELECT sponsors.name, COUNT(sponsors_studies.nct_id) FROM sponsors JOIN sponsors_studies ON sponsors.sponsor_id = sponsors_studies.sponsor_id GROUP BY sponsors.name ORDER BY COUNT(sponsors_studies.nct_id) DESC",
    "cypher": "MATCH (sponsor:sponsors)<-[:BY_SPONSOR]-(ss:sponsors_studies)<-[:HAS_SPONSOR_RECORD]-(study:studies) RETURN sponsor.name, count(study) ORDER BY count(study) DESC"
  },
  {
    "question": "List all interventions used in Phase 2 trials with enrollment over 50",
    "sql": "SELECT DISTINCT interventions.mesh_term FROM interventions JOIN interventions_studies ON interventions.intervention_id = interventions_studies.intervention_id JOIN studies ON interventions_studies.nct_id = studies.nct_id WHERE studies.phase = 'Phase 2' AND studies.enrollment > 50",
    "cypher": "MATCH (intervention:interventions)<-[:FOR_INTERVENTION]-(is:interventions_studies)<-[:HAS_INTERVENTION_RECORD]-(study:studies) WHERE study.phase = 'Phase 2' AND toInteger(study.enrollment) > 50 RETURN DISTINCT intervention.mesh_term"
  },
  {
    "question": "How many studies are conducted at facilities in each country?",
    "sql": "SELECT facilities.country, COUNT(DISTINCT facilities_studies.nct_id) FROM facilities JOIN facilities_studies ON facilities.facility_id = facilities_studies.facility_id GROUP BY facilities.country ORDER BY COUNT(DISTINCT facilities_studies.nct_id) DESC",
    "cypher": "MATCH (facility:facilities)<-[:AT_FACILITY]-(fs:facilities_studies)<-[:HAS_FACILITY_RECORD]-(study:studies) RETURN facility.country, count(DISTINCT study) ORDER BY count(DISTINCT study) DESC"
  },
  {
    "question": "Which industry sponsors are funding Phase 3 trials?",
    "sql": "SELECT DISTINCT sponsors.name FROM sponsors JOIN sponsors_studies ON sponsors.sponsor_id = sponsors_studies.sponsor_id JOIN studies ON sponsors_studies.nct_id = studies.nct_id WHERE sponsors.agency_class = 'INDUSTRY' AND studies.phase = 'Phase 3'",
    "cypher": "MATCH (sponsor:sponsors)<-[:BY_SPONSOR]-(ss:sponsors_studies)<-[:HAS_SPONSOR_RECORD]-(study:studies) WHERE sponsor.agency_class = 'INDUSTRY' AND study.phase = 'Phase 3' RETURN DISTINCT sponsor.name"
  },
  {
    "question": "How many interventional studies are there for each intervention type?",
    "sql": "SELECT interventions.mesh_term, COUNT(interventions_studies.nct_id) FROM interventions JOIN interventions_studies ON interventions.intervention_id = interventions_studies.intervention_id JOIN studies ON interventions_studies.nct_id = studies.nct_id WHERE studies.study_type = 'Interventional' GROUP BY interventions.mesh_term ORDER BY COUNT(interventions_studies.nct_id) DESC",
    "cypher": "MATCH (intervention:interventions)<-[:FOR_INTERVENTION]-(is:interventions_studies)<-[:HAS_INTERVENTION_RECORD]-(study:studies) WHERE study.study_type = 'Interventional' RETURN intervention.mesh_term, count(study) ORDER BY count(study) DESC"
  },
  {
    "question": "Find facilities in the United States conducting Phase 1 trials",
    "sql": "SELECT DISTINCT facilities.name, facilities.city, facilities.state FROM facilities JOIN facilities_studies ON facilities.facility_id = facilities_studies.facility_id JOIN studies ON facilities_studies.nct_id = studies.nct_id WHERE facilities.country = 'United States' AND studies.phase = 'Phase 1'",
    "cypher": "MATCH (facility:facilities)<-[:AT_FACILITY]-(fs:facilities_studies)<-[:HAS_FACILITY_RECORD]-(study:studies) WHERE facility.country = 'United States' AND study.phase = 'Phase 1' RETURN DISTINCT facility.name, facility.city, facility.state"
  },
  {
    "question": "How many studies per phase are sponsored by NIH?",
    "sql": "SELECT studies.phase, COUNT(studies.nct_id) FROM studies JOIN sponsors_studies ON studies.nct_id = sponsors_studies.nct_id JOIN sponsors ON sponsors_studies.sponsor_id = sponsors.sponsor_id WHERE sponsors.agency_class = 'NIH' GROUP BY studies.phase ORDER BY COUNT(studies.nct_id) DESC",
    "cypher": "MATCH (sponsor:sponsors)<-[:BY_SPONSOR]-(ss:sponsors_studies)<-[:HAS_SPONSOR_RECORD]-(study:studies) WHERE sponsor.agency_class = 'NIH' RETURN study.phase, count(study) ORDER BY count(study) DESC"
  },
  {
    "question": "Which conditions are studied in trials with more than 200 enrolled participants?",
    "sql": "SELECT DISTINCT conditions.mesh_term FROM conditions JOIN conditions_studies ON conditions.condition_id = conditions_studies.condition_id JOIN studies ON conditions_studies.nct_id = studies.nct_id WHERE studies.enrollment > 200",
    "cypher": "MATCH (condition:conditions)<-[:FOR_CONDITION]-(cs:conditions_studies)<-[:HAS_CONDITION_RECORD]-(study:studies) WHERE toInteger(study.enrollment) > 200 RETURN DISTINCT condition.mesh_term"
  },
  {
    "question": "Count the number of lead sponsors vs collaborators",
    "sql": "SELECT sponsors_studies.lead_or_collaborator, COUNT(sponsors_studies.id) FROM sponsors_studies JOIN sponsors ON sponsors_studies.sponsor_id = sponsors.sponsor_id GROUP BY sponsors_studies.lead_or_collaborator",
    "cypher": "MATCH (sponsor:sponsors)<-[:BY_SPONSOR]-(ss:sponsors_studies) RETURN ss.lead_or_collaborator, count(ss)"
  },
  {
    "question": "List interventions tested in observational studies with enrollment under 100",
    "sql": "SELECT DISTINCT interventions.mesh_term FROM interventions JOIN interventions_studies ON interventions.intervention_id = interventions_studies.intervention_id JOIN studies ON interventions_studies.nct_id = studies.nct_id WHERE studies.study_type = 'Observational' AND studies.enrollment < 100",
    "cypher": "MATCH (intervention:interventions)<-[:FOR_INTERVENTION]-(is:interventions_studies)<-[:HAS_INTERVENTION_RECORD]-(study:studies) WHERE study.study_type = 'Observational' AND toInteger(study.enrollment) < 100 RETURN DISTINCT intervention.mesh_term"
  },
  {
    "question": "How many studies are there per sponsor agency class?",
    "sql": "SELECT sponsors.agency_class, COUNT(DISTINCT sponsors_studies.nct_id) FROM sponsors JOIN sponsors_studies ON sponsors.sponsor_id = sponsors_studies.sponsor_id GROUP BY sponsors.agency_class ORDER BY COUNT(DISTINCT sponsors_studies.nct_id) DESC",
    "cypher": "MATCH (sponsor:sponsors)<-[:BY_SPONSOR]-(ss:sponsors_studies)<-[:HAS_SPONSOR_RECORD]-(study:studies) RETURN sponsor.agency_class, count(DISTINCT study) ORDER BY count(DISTINCT study) DESC"
  },
  {
    "question": "Find conditions being studied at facilities in California",
    "sql": "SELECT DISTINCT conditions.mesh_term FROM conditions JOIN conditions_studies ON conditions.condition_id = conditions_studies.condition_id JOIN studies ON conditions_studies.nct_id = studies.nct_id JOIN facilities_studies ON studies.nct_id = facilities_studies.nct_id JOIN facilities ON facilities_studies.facility_id = facilities.facility_id WHERE facilities.state = 'California'",
    "cypher": "MATCH (condition:conditions)<-[:FOR_CONDITION]-(cs:conditions_studies)<-[:HAS_CONDITION_RECORD]-(study:studies)-[:HAS_FACILITY_RECORD]->(fs:facilities_studies)-[:AT_FACILITY]->(facility:facilities) WHERE facility.state = 'California' RETURN DISTINCT condition.mesh_term"
  },
  {
    "question": "What is the average enrollment for studies by each industry sponsor?",
    "sql": "SELECT sponsors.name, AVG(studies.enrollment) FROM sponsors JOIN sponsors_studies ON sponsors.sponsor_id = sponsors_studies.sponsor_id JOIN studies ON sponsors_studies.nct_id = studies.nct_id WHERE sponsors.agency_class = 'INDUSTRY' GROUP BY sponsors.name ORDER BY AVG(studies.enrollment) DESC",
    "cypher": "MATCH (sponsor:sponsors)<-[:BY_SPONSOR]-(ss:sponsors_studies)<-[:HAS_SPONSOR_RECORD]-(study:studies) WHERE sponsor.agency_class = 'INDUSTRY' RETURN sponsor.name, avg(toInteger(study.enrollment)) ORDER BY avg(toInteger(study.enrollment)) DESC"
  },
  {
    "question": "Which sponsors fund studies that accept healthy volunteers?",
    "sql": "SELECT DISTINCT sponsors.name FROM sponsors JOIN sponsors_studies ON sponsors.sponsor_id = sponsors_studies.sponsor_id JOIN studies ON sponsors_studies.nct_id = studies.nct_id JOIN eligibilities ON studies.nct_id = eligibilities.nct_id WHERE eligibilities.healthy_volunteers = 'Accepts Healthy Volunteers'",
    "cypher": "MATCH (sponsor:sponsors)<-[:BY_SPONSOR]-(ss:sponsors_studies)<-[:HAS_SPONSOR_RECORD]-(study:studies)-[:HAS_ELIGIBILITY]->(elig:eligibilities) WHERE elig.healthy_volunteers = 'Accepts Healthy Volunteers' RETURN DISTINCT sponsor.name"
  },
  {
    "question": "How many studies with randomized design are there for each phase?",
    "sql": "SELECT studies.phase, COUNT(studies.nct_id) FROM studies JOIN designs ON studies.nct_id = designs.nct_id WHERE designs.allocation = 'Randomized' GROUP BY studies.phase ORDER BY COUNT(studies.nct_id) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_DESIGN]->(design:designs) WHERE design.allocation = 'Randomized' RETURN study.phase, count(study) ORDER BY count(study) DESC"
  },
  {
    "question": "List conditions studied in double-blind trials",
    "sql": "SELECT DISTINCT conditions.mesh_term FROM conditions JOIN conditions_studies ON conditions.condition_id = conditions_studies.condition_id JOIN studies ON conditions_studies.nct_id = studies.nct_id JOIN designs ON studies.nct_id = designs.nct_id WHERE designs.masking = 'Double'",
    "cypher": "MATCH (condition:conditions)<-[:FOR_CONDITION]-(cs:conditions_studies)<-[:HAS_CONDITION_RECORD]-(study:studies)-[:HAS_DESIGN]->(design:designs) WHERE design.masking = 'Double' RETURN DISTINCT condition.mesh_term"
  },
  {
    "question": "How many facilities per city are conducting clinical trials in the United States?",
    "sql": "SELECT facilities.city, COUNT(DISTINCT facilities.facility_id) FROM facilities JOIN facilities_studies ON facilities.facility_id = facilities_studies.facility_id WHERE facilities.country = 'United States' GROUP BY facilities.city ORDER BY COUNT(DISTINCT facilities.facility_id) DESC LIMIT 20",
    "cypher": "MATCH (facility:facilities)<-[:AT_FACILITY]-(fs:facilities_studies) WHERE facility.country = 'United States' RETURN facility.city, count(DISTINCT facility) ORDER BY count(DISTINCT facility) DESC LIMIT 20"
  },
  {
    "question": "Which interventions are used in trials for treatment purposes?",
    "sql": "SELECT DISTINCT interventions.mesh_term FROM interventions JOIN interventions_studies ON interventions.intervention_id = interventions_studies.intervention_id JOIN studies ON interventions_studies.nct_id = studies.nct_id JOIN designs ON studies.nct_id = designs.nct_id WHERE designs.primary_purpose = 'Treatment'",
    "cypher": "MATCH (intervention:interventions)<-[:FOR_INTERVENTION]-(is:interventions_studies)<-[:HAS_INTERVENTION_RECORD]-(study:studies)-[:HAS_DESIGN]->(design:designs) WHERE design.primary_purpose = 'Treatment' RETURN DISTINCT intervention.mesh_term"
  },
  {
    "question": "Count the number of studies per enrollment type for each sponsor class",
    "sql": "SELECT sponsors.agency_class, studies.enrollment_type, COUNT(studies.nct_id) FROM sponsors JOIN sponsors_studies ON sponsors.sponsor_id = sponsors_studies.sponsor_id JOIN studies ON sponsors_studies.nct_id = studies.nct_id GROUP BY sponsors.agency_class, studies.enrollment_type ORDER BY sponsors.agency_class",
    "cypher": "MATCH (sponsor:sponsors)<-[:BY_SPONSOR]-(ss:sponsors_studies)<-[:HAS_SPONSOR_RECORD]-(study:studies) RETURN sponsor.agency_class, study.enrollment_type, count(study) ORDER BY sponsor.agency_class"
  },
  {
    "question": "Find all sponsors with studies at facilities in Germany",
    "sql": "SELECT DISTINCT sponsors.name FROM sponsors JOIN sponsors_studies ON sponsors.sponsor_id = sponsors_studies.sponsor_id JOIN studies ON sponsors_studies.nct_id = studies.nct_id JOIN facilities_studies ON studies.nct_id = facilities_studies.nct_id JOIN facilities ON facilities_studies.facility_id = facilities.facility_id WHERE facilities.country = 'Germany'",
    "cypher": "MATCH (sponsor:sponsors)<-[:BY_SPONSOR]-(ss:sponsors_studies)<-[:HAS_SPONSOR_RECORD]-(study:studies)-[:HAS_FACILITY_RECORD]->(fs:facilities_studies)-[:AT_FACILITY]->(facility:facilities) WHERE facility.country = 'Germany' RETURN DISTINCT sponsor.name"
  },
  {
    "question": "What is the total enrollment across all Phase 3 studies by sponsor?",
    "sql": "SELECT sponsors.name, SUM(studies.enrollment) FROM sponsors JOIN sponsors_studies ON sponsors.sponsor_id = sponsors_studies.sponsor_id JOIN studies ON sponsors_studies.nct_id = studies.nct_id WHERE studies.phase = 'Phase 3' GROUP BY sponsors.name ORDER BY SUM(studies.enrollment) DESC LIMIT 20",
    "cypher": "MATCH (sponsor:sponsors)<-[:BY_SPONSOR]-(ss:sponsors_studies)<-[:HAS_SPONSOR_RECORD]-(study:studies) WHERE study.phase = 'Phase 3' RETURN sponsor.name, sum(toInteger(study.enrollment)) ORDER BY sum(toInteger(study.enrollment)) DESC LIMIT 20"
  },
  {
    "question": "List conditions studied in FDA regulated drug trials",
    "sql": "SELECT DISTINCT conditions.mesh_term FROM conditions JOIN conditions_studies ON conditions.condition_id = conditions_studies.condition_id JOIN studies ON conditions_studies.nct_id = studies.nct_id WHERE studies.is_fda_regulated_drug = 't'",
    "cypher": "MATCH (condition:conditions)<-[:FOR_CONDITION]-(cs:conditions_studies)<-[:HAS_CONDITION_RECORD]-(study:studies) WHERE study.is_fda_regulated_drug = 't' RETURN DISTINCT condition.mesh_term"
  },
  {
    "question": "How many studies are there per intervention model type?",
    "sql": "SELECT designs.intervention_model, COUNT(studies.nct_id) FROM designs JOIN studies ON designs.nct_id = studies.nct_id WHERE studies.study_type = 'Interventional' GROUP BY designs.intervention_model ORDER BY COUNT(studies.nct_id) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_DESIGN]->(design:designs) WHERE study.study_type = 'Interventional' RETURN design.intervention_model, count(study) ORDER BY count(study) DESC"
  },
  {
    "question": "How many primary outcomes are there for each phase of study?",
    "sql": "SELECT studies.phase, COUNT(outcomes.id) FROM studies JOIN outcomes ON studies.nct_id = outcomes.nct_id WHERE outcomes.outcome_type = 'Primary' GROUP BY studies.phase ORDER BY COUNT(outcomes.id) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_OUTCOME]->(outcome:outcomes) WHERE outcome.outcome_type = 'Primary' RETURN study.phase, count(outcome) ORDER BY count(outcome) DESC"
  },
  {
    "question": "Which studies have eligibility criteria allowing only adults and older adults?",
    "sql": "SELECT DISTINCT studies.brief_title FROM studies JOIN eligibilities ON studies.nct_id = eligibilities.nct_id WHERE eligibilities.adult = 't' AND eligibilities.older_adult = 't' AND eligibilities.child = 'f'",
    "cypher": "MATCH (study:studies)-[:HAS_ELIGIBILITY]->(elig:eligibilities) WHERE elig.adult = 't' AND elig.older_adult = 't' AND elig.child = 'f' RETURN DISTINCT study.brief_title"
  },
  {
    "question": "Count the number of studies by gender eligibility",
    "sql": "SELECT eligibilities.gender, COUNT(DISTINCT studies.nct_id) FROM eligibilities JOIN studies ON eligibilities.nct_id = studies.nct_id GROUP BY eligibilities.gender ORDER BY COUNT(DISTINCT studies.nct_id) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_ELIGIBILITY]->(elig:eligibilities) RETURN elig.gender, count(DISTINCT study) ORDER BY count(DISTINCT study) DESC"
  },
  {
    "question": "What is the average enrollment for studies with randomized vs non-randomized allocation?",
    "sql": "SELECT designs.allocation, AVG(studies.enrollment) FROM designs JOIN studies ON designs.nct_id = studies.nct_id WHERE designs.allocation IN ('Randomized', 'Non-Randomized') GROUP BY designs.allocation",
    "cypher": "MATCH (study:studies)-[:HAS_DESIGN]->(design:designs) WHERE design.allocation IN ['Randomized', 'Non-Randomized'] RETURN design.allocation, avg(toInteger(study.enrollment))"
  },
  {
    "question": "List Phase 2 studies with parallel assignment design and more than 100 participants",
    "sql": "SELECT DISTINCT studies.brief_title, studies.enrollment FROM studies JOIN designs ON studies.nct_id = designs.nct_id WHERE studies.phase = 'Phase 2' AND designs.intervention_model = 'Parallel Assignment' AND studies.enrollment > 100",
    "cypher": "MATCH (study:studies)-[:HAS_DESIGN]->(design:designs) WHERE study.phase = 'Phase 2' AND design.intervention_model = 'Parallel Assignment' AND toInteger(study.enrollment) > 100 RETURN DISTINCT study.brief_title, study.enrollment"
  },
  {
    "question": "How many outcomes are measured for each study type?",
    "sql": "SELECT studies.study_type, COUNT(outcomes.id) FROM studies JOIN outcomes ON studies.nct_id = outcomes.nct_id GROUP BY studies.study_type ORDER BY COUNT(outcomes.id) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_OUTCOME]->(outcome:outcomes) RETURN study.study_type, count(outcome) ORDER BY count(outcome) DESC"
  },
  {
    "question": "Find studies accepting children that also have a data monitoring committee",
    "sql": "SELECT DISTINCT studies.brief_title FROM studies JOIN eligibilities ON studies.nct_id = eligibilities.nct_id WHERE eligibilities.child = 't' AND studies.has_dmc = 't'",
    "cypher": "MATCH (study:studies)-[:HAS_ELIGIBILITY]->(elig:eligibilities) WHERE elig.child = 't' AND study.has_dmc = 't' RETURN DISTINCT study.brief_title"
  },
  {
    "question": "Count studies by masking type for Phase 3 trials",
    "sql": "SELECT designs.masking, COUNT(studies.nct_id) FROM designs JOIN studies ON designs.nct_id = studies.nct_id WHERE studies.phase = 'Phase 3' GROUP BY designs.masking ORDER BY COUNT(studies.nct_id) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_DESIGN]->(design:designs) WHERE study.phase = 'Phase 3' RETURN design.masking, count(study) ORDER BY count(study) DESC"
  },
  {
    "question": "What is the maximum enrollment for studies in each primary purpose category?",
    "sql": "SELECT designs.primary_purpose, MAX(studies.enrollment) FROM designs JOIN studies ON designs.nct_id = studies.nct_id GROUP BY designs.primary_purpose ORDER BY MAX(studies.enrollment) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_DESIGN]->(design:designs) RETURN design.primary_purpose, max(toInteger(study.enrollment)) ORDER BY max(toInteger(study.enrollment)) DESC"
  },
  {
    "question": "List interventional studies that accept healthy volunteers and have more than 2 arms",
    "sql": "SELECT DISTINCT studies.brief_title, studies.number_of_arms FROM studies JOIN eligibilities ON studies.nct_id = eligibilities.nct_id WHERE studies.study_type = 'Interventional' AND eligibilities.healthy_volunteers = 'Accepts Healthy Volunteers' AND studies.number_of_arms > 2",
    "cypher": "MATCH (study:studies)-[:HAS_ELIGIBILITY]->(elig:eligibilities) WHERE study.study_type = 'Interventional' AND elig.healthy_volunteers = 'Accepts Healthy Volunteers' AND toInteger(study.number_of_arms) > 2 RETURN DISTINCT study.brief_title, study.number_of_arms"
  },
  {
    "question": "How many secondary outcomes are there per outcome parameter type?",
    "sql": "SELECT outcomes.param_type, COUNT(outcomes.id) FROM outcomes JOIN studies ON outcomes.nct_id = studies.nct_id WHERE outcomes.outcome_type = 'Secondary' GROUP BY outcomes.param_type ORDER BY COUNT(outcomes.id) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_OUTCOME]->(outcome:outcomes) WHERE outcome.outcome_type = 'Secondary' RETURN outcome.param_type, count(outcome) ORDER BY count(outcome) DESC"
  },
  {
    "question": "Find studies with cohort observational model that started after 2018",
    "sql": "SELECT DISTINCT studies.brief_title, studies.start_date FROM studies JOIN designs ON studies.nct_id = designs.nct_id WHERE designs.observational_model = 'Cohort' AND studies.start_date > '2018-01-01 00:00:00'",
    "cypher": "MATCH (study:studies)-[:HAS_DESIGN]->(design:designs) WHERE design.observational_model = 'Cohort' AND study.start_date > '2018-01-01' RETURN DISTINCT study.brief_title, study.start_date"
  },
  {
    "question": "Count the number of studies by time perspective for observational studies",
    "sql": "SELECT designs.time_perspective, COUNT(studies.nct_id) FROM designs JOIN studies ON designs.nct_id = studies.nct_id WHERE studies.study_type = 'Observational' GROUP BY designs.time_perspective ORDER BY COUNT(studies.nct_id) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_DESIGN]->(design:designs) WHERE study.study_type = 'Observational' RETURN design.time_perspective, count(study) ORDER BY count(study) DESC"
  },
  {
    "question": "What is the average enrollment for studies accepting only females?",
    "sql": "SELECT AVG(studies.enrollment) FROM studies JOIN eligibilities ON studies.nct_id = eligibilities.nct_id WHERE eligibilities.gender = 'Female'",
    "cypher": "MATCH (study:studies)-[:HAS_ELIGIBILITY]->(elig:eligibilities) WHERE elig.gender = 'Female' RETURN avg(toInteger(study.enrollment))"
  },
  {
    "question": "List FDA regulated device studies with quadruple masking",
    "sql": "SELECT DISTINCT studies.brief_title FROM studies JOIN designs ON studies.nct_id = designs.nct_id WHERE studies.is_fda_regulated_device = 't' AND designs.masking = 'Quadruple'",
    "cypher": "MATCH (study:studies)-[:HAS_DESIGN]->(design:designs) WHERE study.is_fda_regulated_device = 't' AND design.masking = 'Quadruple' RETURN DISTINCT study.brief_title"
  },
  {
    "question": "How many studies have outcomes measured in weeks by study phase?",
    "sql": "SELECT studies.phase, COUNT(DISTINCT studies.nct_id) FROM studies JOIN outcomes ON studies.nct_id = outcomes.nct_id WHERE outcomes.time_frame LIKE '%week%' GROUP BY studies.phase ORDER BY COUNT(DISTINCT studies.nct_id) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_OUTCOME]->(outcome:outcomes) WHERE outcome.time_frame CONTAINS 'week' RETURN study.phase, count(DISTINCT study) ORDER BY count(DISTINCT study) DESC"
  },
  {
    "question": "Find open label Phase 4 studies with more than 50 enrolled",
    "sql": "SELECT DISTINCT studies.brief_title, studies.enrollment FROM studies JOIN designs ON studies.nct_id = designs.nct_id WHERE designs.masking = 'None (Open Label)' AND studies.phase = 'Phase 4' AND studies.enrollment > 50",
    "cypher": "MATCH (study:studies)-[:HAS_DESIGN]->(design:designs) WHERE design.masking = 'None (Open Label)' AND study.phase = 'Phase 4' AND toInteger(study.enrollment) > 50 RETURN DISTINCT study.brief_title, study.enrollment"
  },
  {
    "question": "Count the number of primary and secondary outcomes for Phase 3 trials",
    "sql": "SELECT outcomes.outcome_type, COUNT(outcomes.id) FROM outcomes JOIN studies ON outcomes.nct_id = studies.nct_id WHERE studies.phase = 'Phase 3' GROUP BY outcomes.outcome_type ORDER BY COUNT(outcomes.id) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_OUTCOME]->(outcome:outcomes) WHERE study.phase = 'Phase 3' RETURN outcome.outcome_type, count(outcome) ORDER BY count(outcome) DESC"
  },
  {
    "question": "What is the minimum enrollment for prevention studies by phase?",
    "sql": "SELECT studies.phase, MIN(studies.enrollment) FROM studies JOIN designs ON studies.nct_id = designs.nct_id WHERE designs.primary_purpose = 'Prevention' GROUP BY studies.phase",
    "cypher": "MATCH (study:studies)-[:HAS_DESIGN]->(design:designs) WHERE design.primary_purpose = 'Prevention' RETURN study.phase, min(toInteger(study.enrollment))"
  },
  {
    "question": "Find studies with crossover design accepting healthy volunteers",
    "sql": "SELECT DISTINCT studies.brief_title FROM studies JOIN designs ON studies.nct_id = designs.nct_id JOIN eligibilities ON studies.nct_id = eligibilities.nct_id WHERE designs.intervention_model = 'Crossover Assignment' AND eligibilities.healthy_volunteers = 'Accepts Healthy Volunteers'",
    "cypher": "MATCH (study:studies)-[:HAS_DESIGN]->(design:designs), (study)-[:HAS_ELIGIBILITY]->(elig:eligibilities) WHERE design.intervention_model = 'Crossover Assignment' AND elig.healthy_volunteers = 'Accepts Healthy Volunteers' RETURN DISTINCT study.brief_title"
  },
  {
    "question": "How many studies are there for each combination of study type and enrollment type?",
    "sql": "SELECT studies.study_type, studies.enrollment_type, COUNT(studies.nct_id) FROM studies JOIN designs ON studies.nct_id = designs.nct_id GROUP BY studies.study_type, studies.enrollment_type ORDER BY COUNT(studies.nct_id) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_DESIGN]->(design:designs) RETURN study.study_type, study.enrollment_type, count(study) ORDER BY count(study) DESC"
  },
  {
    "question": "List studies with diagnostic purpose that have subject masking",
    "sql": "SELECT DISTINCT studies.brief_title FROM studies JOIN designs ON studies.nct_id = designs.nct_id WHERE designs.primary_purpose = 'Diagnostic' AND designs.subject_masked = 't'",
    "cypher": "MATCH (study:studies)-[:HAS_DESIGN]->(design:designs) WHERE design.primary_purpose = 'Diagnostic' AND design.subject_masked = 't' RETURN DISTINCT study.brief_title"
  },
  {
    "question": "Count outcomes by dispersion type for interventional studies",
    "sql": "SELECT outcomes.dispersion_type, COUNT(outcomes.id) FROM outcomes JOIN studies ON outcomes.nct_id = studies.nct_id WHERE studies.study_type = 'Interventional' GROUP BY outcomes.dispersion_type ORDER BY COUNT(outcomes.id) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_OUTCOME]->(outcome:outcomes) WHERE study.study_type = 'Interventional' RETURN outcome.dispersion_type, count(outcome) ORDER BY count(outcome) DESC"
  },
  {
    "question": "Find studies enrolling older adults with treatment purpose and enrollment over 75",
    "sql": "SELECT DISTINCT studies.brief_title, studies.enrollment FROM studies JOIN eligibilities ON studies.nct_id = eligibilities.nct_id JOIN designs ON studies.nct_id = designs.nct_id WHERE eligibilities.older_adult = 't' AND designs.primary_purpose = 'Treatment' AND studies.enrollment > 75",
    "cypher": "MATCH (study:studies)-[:HAS_ELIGIBILITY]->(elig:eligibilities), (study)-[:HAS_DESIGN]->(design:designs) WHERE elig.older_adult = 't' AND design.primary_purpose = 'Treatment' AND toInteger(study.enrollment) > 75 RETURN DISTINCT study.brief_title, study.enrollment"
  },
  {
    "question": "What is the total number of outcomes per phase?",
    "sql": "SELECT studies.phase, COUNT(outcomes.id) FROM studies JOIN outcomes ON studies.nct_id = outcomes.nct_id GROUP BY studies.phase ORDER BY COUNT(outcomes.id) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_OUTCOME]->(outcome:outcomes) RETURN study.phase, count(outcome) ORDER BY count(outcome) DESC"
  },
  {
    "question": "How many serious adverse events are reported per study phase?",
    "sql": "SELECT studies.phase, COUNT(reported_event_totals.id) FROM studies JOIN reported_event_totals ON studies.nct_id = reported_event_totals.nct_id WHERE reported_event_totals.event_type = 'serious' GROUP BY studies.phase ORDER BY COUNT(reported_event_totals.id) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_EVENT_TOTAL]->(event:reported_event_totals) WHERE event.event_type = 'serious' RETURN study.phase, count(event) ORDER BY count(event) DESC"
  },
  {
    "question": "What is the total number of subjects affected by adverse events in Phase 3 trials?",
    "sql": "SELECT SUM(reported_event_totals.subjects_affected) FROM studies JOIN reported_event_totals ON studies.nct_id = reported_event_totals.nct_id WHERE studies.phase = 'Phase 3'",
    "cypher": "MATCH (study:studies)-[:HAS_EVENT_TOTAL]->(event:reported_event_totals) WHERE study.phase = 'Phase 3' RETURN sum(toInteger(event.subjects_affected))"
  },
  {
    "question": "List studies with withdrawals due to adverse events and more than 100 enrollment",
    "sql": "SELECT DISTINCT studies.brief_title, studies.enrollment FROM studies JOIN drop_withdrawals ON studies.nct_id = drop_withdrawals.nct_id WHERE drop_withdrawals.reason = 'Adverse Event' AND studies.enrollment > 100",
    "cypher": "MATCH (study:studies)-[:HAS_WITHDRAWAL]->(withdrawal:drop_withdrawals) WHERE withdrawal.reason = 'Adverse Event' AND toInteger(study.enrollment) > 100 RETURN DISTINCT study.brief_title, study.enrollment"
  },
  {
    "question": "Count withdrawals by reason for Phase 2 studies",
    "sql": "SELECT drop_withdrawals.reason, COUNT(drop_withdrawals.id) FROM drop_withdrawals JOIN studies ON drop_withdrawals.nct_id = studies.nct_id WHERE studies.phase = 'Phase 2' GROUP BY drop_withdrawals.reason ORDER BY COUNT(drop_withdrawals.id) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_WITHDRAWAL]->(withdrawal:drop_withdrawals) WHERE study.phase = 'Phase 2' RETURN withdrawal.reason, count(withdrawal) ORDER BY count(withdrawal) DESC"
  },
  {
    "question": "How many outcome analyses use each statistical method?",
    "sql": "SELECT outcome_analyses.method, COUNT(outcome_analyses.id) FROM outcome_analyses JOIN outcomes ON outcome_analyses.outcome_id = outcomes.id GROUP BY outcome_analyses.method ORDER BY COUNT(outcome_analyses.id) DESC LIMIT 20",
    "cypher": "MATCH (outcome:outcomes)-[:HAS_ANALYSIS]->(analysis:outcome_analyses) RETURN analysis.method, count(analysis) ORDER BY count(analysis) DESC LIMIT 20"
  },
  {
    "question": "Find interventional studies with withdrawals greater than 10 participants",
    "sql": "SELECT DISTINCT studies.brief_title FROM studies JOIN drop_withdrawals ON studies.nct_id = drop_withdrawals.nct_id WHERE studies.study_type = 'Interventional' AND drop_withdrawals.count > 10",
    "cypher": "MATCH (study:studies)-[:HAS_WITHDRAWAL]->(withdrawal:drop_withdrawals) WHERE study.study_type = 'Interventional' AND toInteger(withdrawal.count) > 10 RETURN DISTINCT study.brief_title"
  },
  {
    "question": "What is the average number of subjects at risk per event type?",
    "sql": "SELECT reported_event_totals.event_type, AVG(reported_event_totals.subjects_at_risk) FROM reported_event_totals JOIN studies ON reported_event_totals.nct_id = studies.nct_id GROUP BY reported_event_totals.event_type",
    "cypher": "MATCH (study:studies)-[:HAS_EVENT_TOTAL]->(event:reported_event_totals) RETURN event.event_type, avg(toInteger(event.subjects_at_risk))"
  },
  {
    "question": "List Phase 3 studies with statistically significant outcome analyses",
    "sql": "SELECT DISTINCT studies.brief_title FROM studies JOIN outcomes ON studies.nct_id = outcomes.nct_id JOIN outcome_analyses ON outcomes.id = outcome_analyses.outcome_id WHERE studies.phase = 'Phase 3' AND outcome_analyses.p_value < 0.05",
    "cypher": "MATCH (study:studies)-[:HAS_OUTCOME]->(outcome:outcomes)-[:HAS_ANALYSIS]->(analysis:outcome_analyses) WHERE study.phase = 'Phase 3' AND toFloat(analysis.p_value) < 0.05 RETURN DISTINCT study.brief_title"
  },
  {
    "question": "Count the number of studies with lost to follow-up withdrawals by study type",
    "sql": "SELECT studies.study_type, COUNT(DISTINCT studies.nct_id) FROM studies JOIN drop_withdrawals ON studies.nct_id = drop_withdrawals.nct_id WHERE drop_withdrawals.reason = 'Lost to Follow-up' GROUP BY studies.study_type",
    "cypher": "MATCH (study:studies)-[:HAS_WITHDRAWAL]->(withdrawal:drop_withdrawals) WHERE withdrawal.reason = 'Lost to Follow-up' RETURN study.study_type, count(DISTINCT study)"
  },
  {
    "question": "What is the maximum p-value for outcome analyses in Phase 2 trials?",
    "sql": "SELECT MAX(outcome_analyses.p_value) FROM outcome_analyses JOIN outcomes ON outcome_analyses.outcome_id = outcomes.id JOIN studies ON outcomes.nct_id = studies.nct_id WHERE studies.phase = 'Phase 2'",
    "cypher": "MATCH (study:studies)-[:HAS_OUTCOME]->(outcome:outcomes)-[:HAS_ANALYSIS]->(analysis:outcome_analyses) WHERE study.phase = 'Phase 2' RETURN max(toFloat(analysis.p_value))"
  },
  {
    "question": "Find studies with both serious and other adverse events reported",
    "sql": "SELECT DISTINCT studies.brief_title FROM studies JOIN reported_event_totals ON studies.nct_id = reported_event_totals.nct_id WHERE reported_event_totals.event_type = 'serious' OR reported_event_totals.event_type = 'Other'",
    "cypher": "MATCH (study:studies)-[:HAS_EVENT_TOTAL]->(event:reported_event_totals) WHERE event.event_type = 'serious' OR event.event_type = 'Other' RETURN DISTINCT study.brief_title"
  },
  {
    "question": "How many withdrawal reasons are recorded for each sponsor agency class?",
    "sql": "SELECT sponsors.agency_class, COUNT(drop_withdrawals.id) FROM sponsors JOIN sponsors_studies ON sponsors.sponsor_id = sponsors_studies.sponsor_id JOIN studies ON sponsors_studies.nct_id = studies.nct_id JOIN drop_withdrawals ON studies.nct_id = drop_withdrawals.nct_id GROUP BY sponsors.agency_class ORDER BY COUNT(drop_withdrawals.id) DESC",
    "cypher": "MATCH (sponsor:sponsors)<-[:BY_SPONSOR]-(ss:sponsors_studies)<-[:HAS_SPONSOR_RECORD]-(study:studies)-[:HAS_WITHDRAWAL]->(withdrawal:drop_withdrawals) RETURN sponsor.agency_class, count(withdrawal) ORDER BY count(withdrawal) DESC"
  },
  {
    "question": "List outcomes with ANCOVA analysis method from Phase 3 studies",
    "sql": "SELECT DISTINCT outcomes.title FROM outcomes JOIN outcome_analyses ON outcomes.id = outcome_analyses.outcome_id JOIN studies ON outcomes.nct_id = studies.nct_id WHERE outcome_analyses.method = 'ANCOVA' AND studies.phase = 'Phase 3'",
    "cypher": "MATCH (study:studies)-[:HAS_OUTCOME]->(outcome:outcomes)-[:HAS_ANALYSIS]->(analysis:outcome_analyses) WHERE analysis.method = 'ANCOVA' AND study.phase = 'Phase 3' RETURN DISTINCT outcome.title"
  },
  {
    "question": "What is the total withdrawal count per phase?",
    "sql": "SELECT studies.phase, SUM(drop_withdrawals.count) FROM studies JOIN drop_withdrawals ON studies.nct_id = drop_withdrawals.nct_id GROUP BY studies.phase ORDER BY SUM(drop_withdrawals.count) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_WITHDRAWAL]->(withdrawal:drop_withdrawals) RETURN study.phase, sum(toInteger(withdrawal.count)) ORDER BY sum(toInteger(withdrawal.count)) DESC"
  },
  {
    "question": "Find studies with outcome analyses showing confidence intervals above 95%",
    "sql": "SELECT DISTINCT studies.brief_title FROM studies JOIN outcomes ON studies.nct_id = outcomes.nct_id JOIN outcome_analyses ON outcomes.id = outcome_analyses.outcome_id WHERE outcome_analyses.ci_percent > 95",
    "cypher": "MATCH (study:studies)-[:HAS_OUTCOME]->(outcome:outcomes)-[:HAS_ANALYSIS]->(analysis:outcome_analyses) WHERE toFloat(analysis.ci_percent) > 95 RETURN DISTINCT study.brief_title"
  },
  {
    "question": "Count reported events by classification for interventional studies",
    "sql": "SELECT reported_event_totals.classification, COUNT(reported_event_totals.id) FROM reported_event_totals JOIN studies ON reported_event_totals.nct_id = studies.nct_id WHERE studies.study_type = 'Interventional' GROUP BY reported_event_totals.classification ORDER BY COUNT(reported_event_totals.id) DESC LIMIT 20",
    "cypher": "MATCH (study:studies)-[:HAS_EVENT_TOTAL]->(event:reported_event_totals) WHERE study.study_type = 'Interventional' RETURN event.classification, count(event) ORDER BY count(event) DESC LIMIT 20"
  },
  {
    "question": "What is the average confidence interval lower limit for Phase 3 analyses?",
    "sql": "SELECT AVG(outcome_analyses.ci_lower_limit) FROM outcome_analyses JOIN outcomes ON outcome_analyses.outcome_id = outcomes.id JOIN studies ON outcomes.nct_id = studies.nct_id WHERE studies.phase = 'Phase 3'",
    "cypher": "MATCH (study:studies)-[:HAS_OUTCOME]->(outcome:outcomes)-[:HAS_ANALYSIS]->(analysis:outcome_analyses) WHERE study.phase = 'Phase 3' RETURN avg(toFloat(analysis.ci_lower_limit))"
  },
  {
    "question": "List FDA regulated studies with protocol violations as withdrawal reason",
    "sql": "SELECT DISTINCT studies.brief_title FROM studies JOIN drop_withdrawals ON studies.nct_id = drop_withdrawals.nct_id WHERE studies.is_fda_regulated_drug = 't' AND drop_withdrawals.reason LIKE '%Protocol%'",
    "cypher": "MATCH (study:studies)-[:HAS_WITHDRAWAL]->(withdrawal:drop_withdrawals) WHERE study.is_fda_regulated_drug = 't' AND withdrawal.reason CONTAINS 'Protocol' RETURN DISTINCT study.brief_title"
  },
  {
    "question": "How many events are reported per study for each phase?",
    "sql": "SELECT studies.phase, COUNT(reported_event_totals.id) FROM studies JOIN reported_event_totals ON studies.nct_id = reported_event_totals.nct_id GROUP BY studies.phase ORDER BY COUNT(reported_event_totals.id) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_EVENT_TOTAL]->(event:reported_event_totals) RETURN study.phase, count(event) ORDER BY count(event) DESC"
  },
  {
    "question": "Find studies with more than 50 subjects affected by serious events",
    "sql": "SELECT DISTINCT studies.brief_title, reported_event_totals.subjects_affected FROM studies JOIN reported_event_totals ON studies.nct_id = reported_event_totals.nct_id WHERE reported_event_totals.event_type = 'serious' AND reported_event_totals.subjects_affected > 50",
    "cypher": "MATCH (study:studies)-[:HAS_EVENT_TOTAL]->(event:reported_event_totals) WHERE event.event_type = 'serious' AND toInteger(event.subjects_affected) > 50 RETURN DISTINCT study.brief_title, event.subjects_affected"
  },
  {
    "question": "Count outcome analyses by parameter type",
    "sql": "SELECT outcome_analyses.param_type, COUNT(outcome_analyses.id) FROM outcome_analyses JOIN outcomes ON outcome_analyses.outcome_id = outcomes.id GROUP BY outcome_analyses.param_type ORDER BY COUNT(outcome_analyses.id) DESC",
    "cypher": "MATCH (outcome:outcomes)-[:HAS_ANALYSIS]->(analysis:outcome_analyses) RETURN analysis.param_type, count(analysis) ORDER BY count(analysis) DESC"
  },
  {
    "question": "What is the average withdrawal count for industry sponsored studies?",
    "sql": "SELECT AVG(drop_withdrawals.count) FROM drop_withdrawals JOIN studies ON drop_withdrawals.nct_id = studies.nct_id JOIN sponsors_studies ON studies.nct_id = sponsors_studies.nct_id JOIN sponsors ON sponsors_studies.sponsor_id = sponsors.sponsor_id WHERE sponsors.agency_class = 'INDUSTRY'",
    "cypher": "MATCH (sponsor:sponsors)<-[:BY_SPONSOR]-(ss:sponsors_studies)<-[:HAS_SPONSOR_RECORD]-(study:studies)-[:HAS_WITHDRAWAL]->(withdrawal:drop_withdrawals) WHERE sponsor.agency_class = 'INDUSTRY' RETURN avg(toInteger(withdrawal.count))"
  },
  {
    "question": "List outcomes with Chi-squared analysis from studies with enrollment over 200",
    "sql": "SELECT DISTINCT outcomes.title FROM outcomes JOIN outcome_analyses ON outcomes.id = outcome_analyses.outcome_id JOIN studies ON outcomes.nct_id = studies.nct_id WHERE outcome_analyses.method LIKE '%Chi-squared%' AND studies.enrollment > 200",
    "cypher": "MATCH (study:studies)-[:HAS_OUTCOME]->(outcome:outcomes)-[:HAS_ANALYSIS]->(analysis:outcome_analyses) WHERE analysis.method CONTAINS 'Chi-squared' AND toInteger(study.enrollment) > 200 RETURN DISTINCT outcome.title"
  },
  {
    "question": "How many studies have deaths as withdrawal reason by phase?",
    "sql": "SELECT studies.phase, COUNT(DISTINCT studies.nct_id) FROM studies JOIN drop_withdrawals ON studies.nct_id = drop_withdrawals.nct_id WHERE drop_withdrawals.reason = 'Death' GROUP BY studies.phase ORDER BY COUNT(DISTINCT studies.nct_id) DESC",
    "cypher": "MATCH (study:studies)-[:HAS_WITHDRAWAL]->(withdrawal:drop_withdrawals) WHERE withdrawal.reason = 'Death' RETURN study.phase, count(DISTINCT study) ORDER BY count(DISTINCT study) DESC"
  },
  {
    "question": "Find the maximum number of subjects at risk across all event types",
    "sql": "SELECT reported_event_totals.event_type, MAX(reported_event_totals.subjects_at_risk) FROM reported_event_totals JOIN studies ON reported_event_totals.nct_id = studies.nct_id GROUP BY reported_event_totals.event_type",
    "cypher": "MATCH (study:studies)-[:HAS_EVENT_TOTAL]->(event:reported_event_totals) RETURN event.event_type, max(toInteger(event.subjects_at_risk))"
  },
  {
    "question": "Which conditions have the most Phase 3 interventional studies?",
    "sql": "SELECT conditions.mesh_term, COUNT(DISTINCT studies.nct_id) FROM conditions JOIN conditions_studies ON conditions.condition_id = conditions_studies.condition_id JOIN studies ON conditions_studies.nct_id = studies.nct_id WHERE studies.phase = 'Phase 3' AND studies.study_type = 'Interventional' GROUP BY conditions.mesh_term ORDER BY COUNT(DISTINCT studies.nct_id) DESC LIMIT 20",
    "cypher": "MATCH (condition:conditions)<-[:FOR_CONDITION]-(cs:conditions_studies)<-[:HAS_CONDITION_RECORD]-(study:studies) WHERE study.phase = 'Phase 3' AND study.study_type = 'Interventional' RETURN condition.mesh_term, count(DISTINCT study) ORDER BY count(DISTINCT study) DESC LIMIT 20"
  },
  {
    "question": "How many studies per country have randomized designs?",
    "sql": "SELECT facilities.country, COUNT(DISTINCT studies.nct_id) FROM facilities JOIN facilities_studies ON facilities.facility_id = facilities_studies.facility_id JOIN studies ON facilities_studies.nct_id = studies.nct_id JOIN designs ON studies.nct_id = designs.nct_id WHERE designs.allocation = 'Randomized' GROUP BY facilities.country ORDER BY COUNT(DISTINCT studies.nct_id) DESC LIMIT 20",
    "cypher": "MATCH (facility:facilities)<-[:AT_FACILITY]-(fs:facilities_studies)<-[:HAS_FACILITY_RECORD]-(study:studies)-[:HAS_DESIGN]->(design:designs) WHERE design.allocation = 'Randomized' RETURN facility.country, count(DISTINCT study) ORDER BY count(DISTINCT study) DESC LIMIT 20"
  },
  {
    "question": "What is the average enrollment for each intervention type in treatment studies?",
    "sql": "SELECT interventions.mesh_term, AVG(studies.enrollment) FROM interventions JOIN interventions_studies ON interventions.intervention_id = interventions_studies.intervention_id JOIN studies ON interventions_studies.nct_id = studies.nct_id JOIN designs ON studies.nct_id = designs.nct_id WHERE designs.primary_purpose = 'Treatment' GROUP BY interventions.mesh_term ORDER BY AVG(studies.enrollment) DESC LIMIT 20",
    "cypher": "MATCH (intervention:interventions)<-[:FOR_INTERVENTION]-(is:interventions_studies)<-[:HAS_INTERVENTION_RECORD]-(study:studies)-[:HAS_DESIGN]->(design:designs) WHERE design.primary_purpose = 'Treatment' RETURN intervention.mesh_term, avg(toInteger(study.enrollment)) ORDER BY avg(toInteger(study.enrollment)) DESC LIMIT 20"
  },
  {
    "question": "List sponsors funding studies with double-blind masking and enrollment over 150",
    "sql": "SELECT DISTINCT sponsors.name FROM sponsors JOIN sponsors_studies ON sponsors.sponsor_id = sponsors_studies.sponsor_id JOIN studies ON sponsors_studies.nct_id = studies.nct_id JOIN designs ON studies.nct_id = designs.nct_id WHERE designs.masking = 'Double' AND studies.enrollment > 150",
    "cypher": "MATCH (sponsor:sponsors)<-[:BY_SPONSOR]-(ss:sponsors_studies)<-[:HAS_SPONSOR_RECORD]-(study:studies)-[:HAS_DESIGN]->(design:designs) WHERE design.masking = 'Double' AND toInteger(study.enrollment) > 150 RETURN DISTINCT sponsor.name"
  },
  {
    "question": "Count studies per condition that accept healthy volunteers",
    "sql": "SELECT conditions.mesh_term, COUNT(DISTINCT studies.nct_id) FROM conditions JOIN conditions_studies ON conditions.condition_id = conditions_studies.condition_id JOIN studies ON conditions_studies.nct_id = studies.nct_id JOIN eligibilities ON studies.nct_id = eligibilities.nct_id WHERE eligibilities.healthy_volunteers = 'Accepts Healthy Volunteers' GROUP BY conditions.mesh_term ORDER BY COUNT(DISTINCT studies.nct_id) DESC LIMIT 20",
    "cypher": "MATCH (condition:conditions)<-[:FOR_CONDITION]-(cs:conditions_studies)<-[:HAS_CONDITION_RECORD]-(study:studies)-[:HAS_ELIGIBILITY]->(elig:eligibilities) WHERE elig.healthy_volunteers = 'Accepts Healthy Volunteers' RETURN condition.mesh_term, count(DISTINCT study) ORDER BY count(DISTINCT study) DESC LIMIT 20"
  },
  {
    "question": "What interventions are used in studies at facilities in the United Kingdom?",
    "sql": "SELECT DISTINCT interventions.mesh_term FROM interventions JOIN interventions_studies ON interventions.intervention_id = interventions_studies.intervention_id JOIN studies ON interventions_studies.nct_id = studies.nct_id JOIN facilities_studies ON studies.nct_id = facilities_studies.nct_id JOIN facilities ON facilities_studies.facility_id = facilities.facility_id WHERE facilities.country = 'United Kingdom'",
    "cypher": "MATCH (intervention:interventions)<-[:FOR_INTERVENTION]-(is:interventions_studies)<-[:HAS_INTERVENTION_RECORD]-(study:studies)-[:HAS_FACILITY_RECORD]->(fs:facilities_studies)-[:AT_FACILITY]->(facility:facilities) WHERE facility.country = 'United Kingdom' RETURN DISTINCT intervention.mesh_term"
  },
  {
    "question": "How many primary outcomes are recorded per sponsor agency class?",
    "sql": "SELECT sponsors.agency_class, COUNT(outcomes.id) FROM sponsors JOIN sponsors_studies ON sponsors.sponsor_id = sponsors_studies.sponsor_id JOIN studies ON sponsors_studies.nct_id = studies.nct_id JOIN outcomes ON studies.nct_id = outcomes.nct_id WHERE outcomes.outcome_type = 'Primary' GROUP BY sponsors.agency_class ORDER BY COUNT(outcomes.id) DESC",
    "cypher": "MATCH (sponsor:sponsors)<-[:BY_SPONSOR]-(ss:sponsors_studies)<-[:HAS_SPONSOR_RECORD]-(study:studies)-[:HAS_OUTCOME]->(outcome:outcomes) WHERE outcome.outcome_type = 'Primary' RETURN sponsor.agency_class, count(outcome) ORDER BY count(outcome) DESC"
  },
  {
    "question": "Find conditions studied with parallel assignment and more than 3 arms",
    "sql": "SELECT DISTINCT conditions.mesh_term FROM conditions JOIN conditions_studies ON conditions.condition_id = conditions_studies.condition_id JOIN studies ON conditions_studies.nct_id = studies.nct_id JOIN designs ON studies.nct_id = designs.nct_id WHERE designs.intervention_model = 'Parallel Assignment' AND studies.number_of_arms > 3",
    "cypher": "MATCH (condition:conditions)<-[:FOR_CONDITION]-(cs:conditions_studies)<-[:HAS_CONDITION_RECORD]-(study:studies)-[:HAS_DESIGN]->(design:designs) WHERE design.intervention_model = 'Parallel Assignment' AND toInteger(study.number_of_arms) > 3 RETURN DISTINCT condition.mesh_term"
  },
  {
    "question": "Count the total enrollment per intervention for Phase 1 studies",
    "sql": "SELECT interventions.mesh_term, SUM(studies.enrollment) FROM interventions JOIN interventions_studies ON interventions.intervention_id = interventions_studies.intervention_id JOIN studies ON interventions_studies.nct_id = studies.nct_id WHERE studies.phase = 'Phase 1' GROUP BY interventions.mesh_term ORDER BY SUM(studies.enrollment) DESC LIMIT 20",
    "cypher": "MATCH (intervention:interventions)<-[:FOR_INTERVENTION]-(is:interventions_studies)<-[:HAS_INTERVENTION_RECORD]-(study:studies) WHERE study.phase = 'Phase 1' RETURN intervention.mesh_term, sum(toInteger(study.enrollment)) ORDER BY sum(toInteger(study.enrollment)) DESC LIMIT 20"
  },
  {
    "question": "Which facilities host studies sponsored by NIH?",
    "sql": "SELECT DISTINCT facilities.name, facilities.city, facilities.country FROM facilities JOIN facilities_studies ON facilities.facility_id = facilities_studies.facility_id JOIN studies ON facilities_studies.nct_id = studies.nct_id JOIN sponsors_studies ON studies.nct_id = sponsors_studies.nct_id JOIN sponsors ON sponsors_studies.sponsor_id = sponsors.sponsor_id WHERE sponsors.agency_class = 'NIH'",
    "cypher": "MATCH (facility:facilities)<-[:AT_FACILITY]-(fs:facilities_studies)<-[:HAS_FACILITY_RECORD]-(study:studies)-[:HAS_SPONSOR_RECORD]->(ss:sponsors_studies)-[:BY_SPONSOR]->(sponsor:sponsors) WHERE sponsor.agency_class = 'NIH' RETURN DISTINCT facility.name, facility.city, facility.country"
  },
  {
    "question": "How many studies with prevention purpose are there per condition?",
    "sql": "SELECT conditions.mesh_term, COUNT(DISTINCT studies.nct_id) FROM conditions JOIN conditions_studies ON conditions.condition_id = conditions_studies.condition_id JOIN studies ON conditions_studies.nct_id = studies.nct_id JOIN designs ON studies.nct_id = designs.nct_id WHERE designs.primary_purpose = 'Prevention' GROUP BY conditions.mesh_term ORDER BY COUNT(DISTINCT studies.nct_id) DESC LIMIT 20",
    "cypher": "MATCH (condition:conditions)<-[:FOR_CONDITION]-(cs:conditions_studies)<-[:HAS_CONDITION_RECORD]-(study:studies)-[:HAS_DESIGN]->(design:designs) WHERE design.primary_purpose = 'Prevention' RETURN condition.mesh_term, count(DISTINCT study) ORDER BY count(DISTINCT study) DESC LIMIT 20"
  },
  {
    "question": "List interventions used in FDA regulated drug trials with triple masking",
    "sql": "SELECT DISTINCT interventions.mesh_term FROM interventions JOIN interventions_studies ON interventions.intervention_id = interventions_studies.intervention_id JOIN studies ON interventions_studies.nct_id = studies.nct_id JOIN designs ON studies.nct_id = designs.nct_id WHERE studies.is_fda_regulated_drug = 't' AND designs.masking = 'Triple'",
    "cypher": "MATCH (intervention:interventions)<-[:FOR_INTERVENTION]-(is:interventions_studies)<-[:HAS_INTERVENTION_RECORD]-(study:studies)-[:HAS_DESIGN]->(design:designs) WHERE study.is_fda_regulated_drug = 't' AND design.masking = 'Triple' RETURN DISTINCT intervention.mesh_term"
  },
  {
    "question": "What is the average number of arms for studies per sponsor type?",
    "sql": "SELECT sponsors.agency_class, AVG(studies.number_of_arms) FROM sponsors JOIN sponsors_studies ON sponsors.sponsor_id = sponsors_studies.sponsor_id JOIN studies ON sponsors_studies.nct_id = studies.nct_id WHERE studies.number_of_arms IS NOT NULL GROUP BY sponsors.agency_class ORDER BY AVG(studies.number_of_arms) DESC",
    "cypher": "MATCH (sponsor:sponsors)<-[:BY_SPONSOR]-(ss:sponsors_studies)<-[:HAS_SPONSOR_RECORD]-(study:studies) WHERE study.number_of_arms <> '' RETURN sponsor.agency_class, avg(toInteger(study.number_of_arms)) ORDER BY avg(toInteger(study.number_of_arms)) DESC"
  },
  {
    "question": "Find facilities in France with studies accepting children",
    "sql": "SELECT DISTINCT facilities.name, facilities.city FROM facilities JOIN facilities_studies ON facilities.facility_id = facilities_studies.facility_id JOIN studies ON facilities_studies.nct_id = studies.nct_id JOIN eligibilities ON studies.nct_id = eligibilities.nct_id WHERE facilities.country = 'France' AND eligibilities.child = 't'",
    "cypher": "MATCH (facility:facilities)<-[:AT_FACILITY]-(fs:facilities_studies)<-[:HAS_FACILITY_RECORD]-(study:studies)-[:HAS_ELIGIBILITY]->(elig:eligibilities) WHERE facility.country = 'France' AND elig.child = 't' RETURN DISTINCT facility.name, facility.city"
  },
  {
    "question": "Count studies by condition for observational cohort studies",
    "sql": "SELECT conditions.mesh_term, COUNT(DISTINCT studies.nct_id) FROM conditions JOIN conditions_studies ON conditions.condition_id = conditions_studies.condition_id JOIN studies ON conditions_studies.nct_id = studies.nct_id JOIN designs ON studies.nct_id = designs.nct_id WHERE studies.study_type = 'Observational' AND designs.observational_model = 'Cohort' GROUP BY conditions.mesh_term ORDER BY COUNT(DISTINCT studies.nct_id) DESC LIMIT 20",
    "cypher": "MATCH (condition:conditions)<-[:FOR_CONDITION]-(cs:conditions_studies)<-[:HAS_CONDITION_RECORD]-(study:studies)-[:HAS_DESIGN]->(design:designs) WHERE study.study_type = 'Observational' AND design.observational_model = 'Cohort' RETURN condition.mesh_term, count(DISTINCT study) ORDER BY count(DISTINCT study) DESC LIMIT 20"
  },
  {
    "question": "What is the total enrollment for studies per intervention in Phase 2 or Phase 3?",
    "sql": "SELECT interventions.mesh_term, SUM(studies.enrollment) FROM interventions JOIN interventions_studies ON interventions.intervention_id = interventions_studies.intervention_id JOIN studies ON interventions_studies.nct_id = studies.nct_id WHERE studies.phase = 'Phase 2' OR studies.phase = 'Phase 3' GROUP BY interventions.mesh_term ORDER BY SUM(studies.enrollment) DESC LIMIT 20",
    "cypher": "MATCH (intervention:interventions)<-[:FOR_INTERVENTION]-(is:interventions_studies)<-[:HAS_INTERVENTION_RECORD]-(study:studies) WHERE study.phase = 'Phase 2' OR study.phase = 'Phase 3' RETURN intervention.mesh_term, sum(toInteger(study.enrollment)) ORDER BY sum(toInteger(study.enrollment)) DESC LIMIT 20"
  },
  {
    "question": "List conditions studied by industry sponsors with enrollment over 100",
    "sql": "SELECT DISTINCT conditions.mesh_term FROM conditions JOIN conditions_studies ON conditions.condition_id = conditions_studies.condition_id JOIN studies ON conditions_studies.nct_id = studies.nct_id JOIN sponsors_studies ON studies.nct_id = sponsors_studies.nct_id JOIN sponsors ON sponsors_studies.sponsor_id = sponsors.sponsor_id WHERE sponsors.agency_class = 'INDUSTRY' AND studies.enrollment > 100",
    "cypher": "MATCH (condition:conditions)<-[:FOR_CONDITION]-(cs:conditions_studies)<-[:HAS_CONDITION_RECORD]-(study:studies)-[:HAS_SPONSOR_RECORD]->(ss:sponsors_studies)-[:BY_SPONSOR]->(sponsor:sponsors) WHERE sponsor.agency_class = 'INDUSTRY' AND toInteger(study.enrollment) > 100 RETURN DISTINCT condition.mesh_term"
  },
  {
    "question": "How many facilities per state conduct Phase 3 trials in the United States?",
    "sql": "SELECT facilities.state, COUNT(DISTINCT facilities.facility_id) FROM facilities JOIN facilities_studies ON facilities.facility_id = facilities_studies.facility_id JOIN studies ON facilities_studies.nct_id = studies.nct_id WHERE facilities.country = 'United States' AND studies.phase = 'Phase 3' GROUP BY facilities.state ORDER BY COUNT(DISTINCT facilities.facility_id) DESC LIMIT 20",
    "cypher": "MATCH (facility:facilities)<-[:AT_FACILITY]-(fs:facilities_studies)<-[:HAS_FACILITY_RECORD]-(study:studies) WHERE facility.country = 'United States' AND study.phase = 'Phase 3' RETURN facility.state, count(DISTINCT facility) ORDER BY count(DISTINCT facility) DESC LIMIT 20"
  },
  {
    "question": "Find sponsors with studies that have outcomes measuring survival",
    "sql": "SELECT DISTINCT sponsors.name FROM sponsors JOIN sponsors_studies ON sponsors.sponsor_id = sponsors_studies.sponsor_id JOIN studies ON sponsors_studies.nct_id = studies.nct_id JOIN outcomes ON studies.nct_id = outcomes.nct_id WHERE outcomes.title LIKE '%survival%'",
    "cypher": "MATCH (sponsor:sponsors)<-[:BY_SPONSOR]-(ss:sponsors_studies)<-[:HAS_SPONSOR_RECORD]-(study:studies)-[:HAS_OUTCOME]->(outcome:outcomes) WHERE outcome.title CONTAINS 'survival' RETURN DISTINCT sponsor.name"
  },
  {
    "question": "Count studies with open label design per condition",
    "sql": "SELECT conditions.mesh_term, COUNT(DISTINCT studies.nct_id) FROM conditions JOIN conditions_studies ON conditions.condition_id = conditions_studies.condition_id JOIN studies ON conditions_studies.nct_id = studies.nct_id JOIN designs ON studies.nct_id = designs.nct_id WHERE designs.masking = 'None (Open Label)' GROUP BY conditions.mesh_term ORDER BY COUNT(DISTINCT studies.nct_id) DESC LIMIT 20",
    "cypher": "MATCH (condition:conditions)<-[:FOR_CONDITION]-(cs:conditions_studies)<-[:HAS_CONDITION_RECORD]-(study:studies)-[:HAS_DESIGN]->(design:designs) WHERE design.masking = 'None (Open Label)' RETURN condition.mesh_term, count(DISTINCT study) ORDER BY count(DISTINCT study) DESC LIMIT 20"
  },
  {
    "question": "What is the minimum enrollment for interventions used in diagnostic studies?",
    "sql": "SELECT interventions.mesh_term, MIN(studies.enrollment) FROM interventions JOIN interventions_studies ON interventions.intervention_id = interventions_studies.intervention_id JOIN studies ON interventions_studies.nct_id = studies.nct_id JOIN designs ON studies.nct_id = designs.nct_id WHERE designs.primary_purpose = 'Diagnostic' GROUP BY interventions.mesh_term ORDER BY MIN(studies.enrollment) LIMIT 20",
    "cypher": "MATCH (intervention:interventions)<-[:FOR_INTERVENTION]-(is:interventions_studies)<-[:HAS_INTERVENTION_RECORD]-(study:studies)-[:HAS_DESIGN]->(design:designs) WHERE design.primary_purpose = 'Diagnostic' RETURN intervention.mesh_term, min(toInteger(study.enrollment)) ORDER BY min(toInteger(study.enrollment)) LIMIT 20"
  },
  {
    "question": "List facilities in Canada conducting studies with investigator masking",
    "sql": "SELECT DISTINCT facilities.name, facilities.city FROM facilities JOIN facilities_studies ON facilities.facility_id = facilities_studies.facility_id JOIN studies ON facilities_studies.nct_id = studies.nct_id JOIN designs ON studies.nct_id = designs.nct_id WHERE facilities.country = 'Canada' AND designs.investigator_masked = 't'",
    "cypher": "MATCH (facility:facilities)<-[:AT_FACILITY]-(fs:facilities_studies)<-[:HAS_FACILITY_RECORD]-(study:studies)-[:HAS_DESIGN]->(design:designs) WHERE facility.country = 'Canada' AND design.investigator_masked = 't' RETURN DISTINCT facility.name, facility.city"
  },
  {
    "question": "How many studies per sponsor have reported adverse events?",
    "sql": "SELECT sponsors.name, COUNT(DISTINCT studies.nct_id) FROM sponsors JOIN sponsors_studies ON sponsors.sponsor_id = sponsors_studies.sponsor_id JOIN studies ON sponsors_studies.nct_id = studies.nct_id JOIN reported_event_totals ON studies.nct_id = reported_event_totals.nct_id GROUP BY sponsors.name ORDER BY COUNT(DISTINCT studies.nct_id) DESC LIMIT 20",
    "cypher": "MATCH (sponsor:sponsors)<-[:BY_SPONSOR]-(ss:sponsors_studies)<-[:HAS_SPONSOR_RECORD]-(study:studies)-[:HAS_EVENT_TOTAL]->(event:reported_event_totals) RETURN sponsor.name, count(DISTINCT study) ORDER BY count(DISTINCT study) DESC LIMIT 20"
  },
  {
    "question": "Find conditions with studies using single group assignment and open label",
    "sql": "SELECT DISTINCT conditions.mesh_term FROM conditions JOIN conditions_studies ON conditions.condition_id = conditions_studies.condition_id JOIN studies ON conditions_studies.nct_id = studies.nct_id JOIN designs ON studies.nct_id = designs.nct_id WHERE designs.intervention_model = 'Single Group Assignment' AND designs.masking = 'None (Open Label)'",
    "cypher": "MATCH (condition:conditions)<-[:FOR_CONDITION]-(cs:conditions_studies)<-[:HAS_CONDITION_RECORD]-(study:studies)-[:HAS_DESIGN]->(design:designs) WHERE design.intervention_model = 'Single Group Assignment' AND design.masking = 'None (Open Label)' RETURN DISTINCT condition.mesh_term"
  },
  {
    "question": "What is the average enrollment for studies at facilities in each US state?",
    "sql": "SELECT facilities.state, AVG(studies.enrollment) FROM facilities JOIN facilities_studies ON facilities.facility_id = facilities_studies.facility_id JOIN studies ON facilities_studies.nct_id = studies.nct_id WHERE facilities.country = 'United States' GROUP BY facilities.state ORDER BY AVG(studies.enrollment) DESC LIMIT 20",
    "cypher": "MATCH (facility:facilities)<-[:AT_FACILITY]-(fs:facilities_studies)<-[:HAS_FACILITY_RECORD]-(study:studies) WHERE facility.country = 'United States' RETURN facility.state, avg(toInteger(study.enrollment)) ORDER BY avg(toInteger(study.enrollment)) DESC LIMIT 20"
  }
]